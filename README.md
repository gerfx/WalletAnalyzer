# SybilRadar

Утилита для сбора и анализа активности Ethereum-кошелька через API Etherscan.

## Валидация модели

Проверка модели на настоящем AirDrop находится в experiments/validate_model.ipynb

## Возможности

- Получение списка обычных транзакций и ERC-20 переводов
- Вычисление признаков активности кошелька:
  - Общее число транзакций
  - Количество уникальных контрактов и токенов
  - Возраст кошелька (дни)
  - Частота транзакций (транзакций в день)
  - Среднее время между транзакциями (часы)
  - Максимальное количество транзакций в день
  - Количество уникальных отправителей (funders)
  - Статистика исходящих ETH-транзакций (среднее и СКО)
  - Количество уникальных получателей
- Простая эвристика обнаружения сибильного поведения

## Структура проекта

```
WalletAnalyzer/
├── src/                   # Исходный код
│   ├── data_fetcher.py    # Клиент Etherscan API
│   ├── feature_extractor.py  # Вычисление признаков
│   ├── presenter.py       # Вывод результатов
│   ├── utils.py           # Утилиты (валидация адреса)
│   └── main.py            # Точка входа
├── config/
│   └── config.yaml        # Настройки (Etherscan API key)
├── venv/                  # Виртуальное окружение (не в Git)
├── requirements.txt       # Зависимости
└── README.md              # Документация (этот файл)
```

## Быстрый старт

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/gerfx/WalletAnalyzer.git
   cd WalletAnalyzer
   ```

2. Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv venv
   # Windows
   venv\Scripts\activate
   # macOS/Linux
   source venv/bin/activate
   ```

3. Установите зависимости:
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   ```

4. Настройте API-ключ Etherscan:
   - Откройте файл `config/config.yaml`
   - Замените `YOUR_API_KEY_HERE` на ваш ключ:
     ```yaml
     etherscan_api_key: YOUR_API_KEY_HERE
     ```

5. Запуск анализа кошелька:
   ```bash
   python -m src.main <ETH_ADDRESS>
   ```
   Пример:
   ```bash
   python -m src.main 0x1234567890abcdef1234567890abcdef12345678
   ```

При необходимости можно указать другой путь к конфигу:
```bash
python -m src.main 0x... --config config/another.yaml
```

## Пример вывода

```
Анализ активности кошелька:
--------------------------
Общее количество транзакций: 120
Уникальные контракты:          15
Уникальные токены:            8
Возраст кошелька (дн):        250.5
Частота (транз./дн):          0.48
Среднее межтранзакц. (ч):     50.23
Макс транзакций в день:       5
Уникальных отправителей:      10
Исходящих ETH-транзакций:     60
Сред. исходящий ETH:          0.1234 ETH
СКО исходящего ETH:           0.5678 ETH
Уникальных получателей:       20

[!] Внимание: кошелек может быть сибильным.
```
